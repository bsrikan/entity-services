<es:entity-type xmlns:es="http://marklogic.com/entity-services">
  <es:info>
      <es:title>Order</es:title>
      <es:version>0.0.2</es:version>
  </es:info>
  <es:definitions>
    <Order>
        <es:properties>
            <orderId>
                <es:datatype>string</es:datatype>
                <es:collation>http://marklogic.com/collation/</es:collation>
            </orderId>
            <orderDate>
                <es:datatype>date</es:datatype>
            </orderDate>
            <hasOrderDetails>
                <es:ref>#/definitions/OrderDetails</es:ref>
            </hasOrderDetails>
            <soldTo>
                <es:ref>#/definitions/Customer</es:ref>
            </soldTo>
        </es:properties>
        <es:primary-key>orderId</es:primary-key>
        <es:required>orderId</es:required>
        <es:required>orderDate</es:required>
    </Order>
    <Customer>
        <es:properties>
            <customerId>
                <es:datatype>string</es:datatype>
            </customerId>
            <companyName>
                <es:datatype>string</es:datatype>
            </companyName>
        </es:properties>
    </Customer>
    <OrderDetails>
        <es:properties>
            <quantity>
                <es:datatype>integer</es:datatype>
            </quantity>
            <productName>
                <es:datatype>string</es:datatype>
            </productName>
        </es:properties>
    </OrderDetails>
  </es:definitions>
</es:entity-type>
